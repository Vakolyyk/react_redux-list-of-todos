(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n.n(c),s=n(2),a=n(5),o=n(4),u=n.n(o),i=n(0),l=(n(25),n(26),n(16)),d=n(6),j=n(13),b=n.n(j),O=n(3),p=n(11),f=n(15),h="LOAD_TODOS",m="SELECT_USER",x="LOAD_USER",v="GET_ERROR",_="DELETE_TODO",y=function(e){return{type:h,todos:e}},N=function(e){return{type:m,userId:e}},L=function(e){return{type:x,user:e}},T=function(e){return{type:v,message:e}},C=function(e){return{type:_,id:e}},k=function(e){return e.todos},w=function(e){return e.userId},E=function(e){return e.errorLoad},g=function(e){return e.user},S={todos:[],userId:0,user:null,errorLoad:""},I=Object(p.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(O.a)(Object(O.a)({},e),{},{todos:t.todos});case m:return Object(O.a)(Object(O.a)({},e),{},{userId:t.userId});case x:return Object(O.a)(Object(O.a)({},e),{},{user:t.user});case v:return Object(O.a)(Object(O.a)({},e),{},{errorLoad:t.message});case _:return Object(O.a)(Object(O.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});default:return e}}),Object(f.composeWithDevTools)()),A=(n(27),n(1)),U=function(){var e=Object(s.c)(k),t=Object(s.c)(w),n=Object(s.c)(E),c=Object(s.b)(),r=Object(i.useState)(""),a=Object(d.a)(r,2),o=a[0],u=a[1],j=Object(i.useState)("all"),O=Object(d.a)(j,2),p=O[0],f=O[1],h=Object(i.useState)(e),m=Object(d.a)(h,2),x=m[0],v=m[1];Object(i.useEffect)((function(){v(e.filter((function(t){var n=o.toLowerCase(),c=t.title.toLowerCase();switch(p){case"all":return c.includes(n);case"active":return c.includes(n)&&!t.completed;case"completed":return c.includes(n)&&t.completed;default:return e}})))}),[p,o,e]);return Object(A.jsxs)("div",{className:"TodoList",children:[Object(A.jsx)("h2",{children:"Todos:"}),Object(A.jsxs)("div",{className:"TodoList__filter",children:[Object(A.jsx)("input",{type:"text",className:"TodoList__field",placeholder:"Enter title","data-cy":"filterByTitle",value:o,onChange:function(e){return u(e.target.value)}}),Object(A.jsxs)("select",{className:"TodoList__field",value:p,onChange:function(e){f(e.target.value)},children:[Object(A.jsx)("option",{value:"all",children:"All"}),Object(A.jsx)("option",{value:"active",children:"Active"}),Object(A.jsx)("option",{value:"completed",children:"Completed"})]}),Object(A.jsx)("button",{type:"button",className:"button TodoList__user-button--selected",onClick:function(){v(Object(l.a)(x).sort((function(){return Math.random()-.5})))},children:"Randomize"})]}),Object(A.jsx)("div",{className:"TodoList__list-container",children:n?Object(A.jsx)("p",{children:n}):Object(A.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:x.map((function(e){return Object(A.jsxs)("li",{className:b()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(A.jsxs)("label",{children:[Object(A.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(A.jsx)("p",{children:e.title})]}),Object(A.jsxs)("div",{className:"buttons",children:[Object(A.jsxs)("button",{className:b()("TodoList__user-button","button",{"TodoList__user-button--selected":e.userId===t}),type:"button","data-cy":"userButton",onClick:function(){c(N(e.userId))},children:["User\xa0#",e.userId]}),Object(A.jsx)("button",{className:"button button__delete",type:"button",onClick:function(){return t=e.id,void c(C(t));var t},children:"Remove"})]})]},e.id)}))})})]})},R="https://mate.academy/students-api",D=function(){var e=Object(a.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(a.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=(n(29),function(){var e=Object(s.c)(g),t=Object(s.c)(w),n=Object(s.b)(),c=Object(i.useState)(""),r=Object(d.a)(c,2),o=r[0],l=r[1];return Object(i.useEffect)((function(){var e=function(){var e=Object(a.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(""),n(L(null)),e.next=5,B(t);case 5:c=e.sent,n(L(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l("Can not load user!");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(A.jsx)(A.Fragment,{children:e?Object(A.jsxs)("div",{className:"CurrentUser",children:[Object(A.jsx)("h2",{className:"CurrentUser__title",children:Object(A.jsxs)("span",{children:["Selected user:",e.id]})}),Object(A.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:e.name}),Object(A.jsx)("p",{className:"CurrentUser__email",children:e.email}),Object(A.jsx)("p",{className:"CurrentUser__phone",children:e.phone}),Object(A.jsx)("button",{className:"button button__clear",type:"button",onClick:function(){return n(N(0))},children:"Clear"})]}):Object(A.jsx)("p",{children:o})})}),z=function(){var e=Object(s.c)(w),t=Object(s.b)();return Object(i.useEffect)((function(){var e=function(){var e=Object(a.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:n=e.sent,t(y(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(T("Can not load todos!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("div",{className:"App__sidebar",children:Object(A.jsx)(U,{})}),Object(A.jsx)("div",{className:"App__content",children:Object(A.jsx)("div",{className:"App__content-container",children:e?Object(A.jsx)(J,{}):"No user selected"})})]})};r.a.render(Object(A.jsx)(s.a,{store:I,children:Object(A.jsx)(z,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.a477a092.chunk.js.map